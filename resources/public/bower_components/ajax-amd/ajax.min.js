define("ajax",[],function(){function k(a,b){b=b||"";var c;a:{for(c in a)if(a.hasOwnProperty(c)){c=!1;break a}c=!0}if(!c){c=[];for(var d in a)if("object"===typeof a[d]){var e=k(a[d],b+encodeURIComponent(d)+".");c=c.concat(e.split("&"))}else c.push(b+encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return c.join("&")}return null}function r(a,b){var c=k(b);return 0<=(null==c||a.indexOf(c))||/(\&$)/.test(a)?a:a+=(/(\?)/.test(a)?"&":"?")+c}function n(a){return 200<=a&&300>a}function l(a){return a&&
"function"===typeof a}function t(a,b,c,d){d.Accept=d.Accept||"application/json";(a=a.match(/\/\/(.+?)\//))&&a[1]&&a[1]!=window.location.host||(d["X-Requested-With"]=d["X-Requested-With"]||"XMLHttpRequest");"GET"!==c&&(d["Content-Type"]=d["Content-Type"]||"application/x-www-form-urlencoded;charset=UTF-8");for(var e in d)"Content-Type"===e&&"multipart/form-data"===d[e]||b.setRequestHeader(e,d[e])}function u(a,b){return b||/(\?|&)_t=/.test(a)?a:/\?/.test(a)?a+(/(\&$)/.test(a)?"_t=":"&_t=")+ +new Date:
a+"?_t="+ +new Date}function g(a,b,c,d,e){d=d||{};e=e||{};e.retries=e.retries?parseInt(e.retries):0;e.timeout=e.timeout?parseInt(e.timeout):1E4;e.cache=!!e.cache;var f=new XMLHttpRequest,p;e.async=!!e.async;"GET"===a&&(b=r(b,c));b=u(b,e.cache);if(f)if(f.open(a,b,e.async),t(b,f,a,e.headers||{}),e.timeout&&(p=setTimeout(function(){f.abort();0<e.retries&&(e.retries--,g(a,b,c,d,e))},e.timeout)),f.onreadystatechange=function(){var a=d,b=p,c=0===e.retries;if(4===this.readyState){c&&void 0!==b&&clearTimeout(b);
var f=this.getResponseHeader("Content-Type")||"",g="",h=!1;try{g=-1!==f.indexOf("json")?JSON.parse(this.responseText):-1!==f.indexOf("xml")?(new DOMParser).parseFromString(this.responseText,"text/xml"):this.responseText}catch(v){h=!0}!h&&n(this.status)&&l(a.success)?(a.success(g,this),b&&(clearTimeout(b),b=null)):!h&&n(this.status)||!l(a.error)||c&&a.error(this.statusText,this);h&&!c||!l(a.complete)||(a.complete(this),b&&clearTimeout(b))}},"GET"===a)f.send();else if(void 0!=e.headers&&"application/json"===
e.headers["Content-Type"])f.send(JSON.stringify(c));else if(void 0!=e.headers&&"multipart/form-data"===e.headers["Content-Type"]){for(var q=new FormData,m=Object.keys(c),h=0;h<m.length;h++)q.append(m[h],c[m[h]]);f.send(q)}else f.send(k(c))}String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}();String.prototype.isEmpty||(String.prototype.isEmpty=function(){var a;null!==this&&void 0!==this&&(a=this.toString());return null===
a||void 0===a||""===a.trim()?!0:!1});return{get:function(a,b,c,d){g("GET",a,b,c,d)},post:function(a,b,c,d){g("POST",a,b,c,d)},put:function(a,b,c,d){g("PUT",a,b,c,d)},"delete":function(a,b,c,d){g("DELETE",a,b,c,d)},serializeObject:function(a){var b=Array.prototype.slice.call(a.getElementsByTagName("input")),c=Array.prototype.slice.call(a.getElementsByTagName("textarea"));a=Array.prototype.slice.call(a.getElementsByTagName("select"));b=b.concat(c).concat(a);c={};a=b.length;for(var d=0;d<a;d++){var e=
b[d].getAttribute("name");if(!b[d].disabled&&!b[d].name.isEmpty())if("radio"===b[d].type||"checkbox"===b[d].type)b[d].checked&&(c[e]=b[d].value);else if("file"===b[d].type){var f=b[d].files;if(1===f.length)c[e]=f[0];else for(var g=0;g<f.length;g++)c[e+"["+g+"]"]=f[g]}else c[e]=b[d].value}return c}}});
